<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Présenté par Djamal TOE, Ousseynou SIMAL, Denis THAYANANTHARAJAH, Karima JABRI">
<meta name="dcterms.date" content="2025-06-12">

<title>DJAMAL WEBSITE - Prédiction de la durée de carrière des joueurs NBA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="index.qmd" class="navbar-brand navbar-brand-logo">
    <img src="../../../../images/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="index.qmd">
    <span class="navbar-title">DJAMAL WEBSITE</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-statistics--machine-learning" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Statistics &amp; Machine Learning</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-statistics--machine-learning">    
        <li>
    <a class="dropdown-item" href="../../../../INFO_MINI_PROJETS/classi_bin_acp_kmeans_knn_logit/Breast-Tumor-Article.html" rel="" target="">
 <span class="dropdown-text">Diagnostic assisté par ACP et régression logistique</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../INFO_MINI_PROJETS/brain-tumor-classification-effcientnet.html" rel="" target="">
 <span class="dropdown-text">Diagnostic tumeurs cérébrales - Reseau de neurones</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../ANALYSES_FACTORIELLES/acp-kmeans.html" rel="" target="">
 <span class="dropdown-text">Reduction de dimensionnalité et clustering non supervisé</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../FORMATIONS/logistic_regression_diabetes.html" rel="" target="">
 <span class="dropdown-text">Modélisation des données à variables dépendantes binaires</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../projet-traitement-donnees/report_writing/synthese-des-travaux.html" rel="" target="">
 <span class="dropdown-text">Prédire la durée de carrière des joueurs NBA</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../INFO_MINI_PROJETS/anomaly-detection-in-transactions-GMM.html" rel="" target="">
 <span class="dropdown-text">Détection d’anomalies dans les transactions à l’aide de modèles de mélange gaussien</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../FORMATIONS/poisson_paludisme.html" rel="" target="">
 <span class="dropdown-text">Modélisation des données de comptage</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../INFO_MINI_PROJETS/shifumi-cnn-yolov8.html" rel="" target="">
 <span class="dropdown-text">Classification des gestes de la main avec Yolo et CNN</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-programming" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Programming</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-programming">    
        <li>
    <a class="dropdown-item" href="../../../../INFO_MINI_PROJETS/assistant_virtuel.html" rel="" target="">
 <span class="dropdown-text">Crée ton assistant virtuel avec pyhton</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../INFO_MINI_PROJETS/JavaApp/desktop-app-java-mysql.html" rel="" target="">
 <span class="dropdown-text">Application desktop avec Java et Mysql</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-various" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Various</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-various">    
        <li>
    <a class="dropdown-item" href="../../../../FORMATIONS/machine-learning/gradient-descent-linear-reg.html" rel="" target="">
 <span class="dropdown-text">Régression linéaire par descente de gradient - théorie et application</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../../publications.html" rel="" target="">
 <span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../about.html" rel="" target="">
 <span class="menu-text">About me</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://www.linkedin.com/in/djamal-toe-7a18432b0" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text">LinkedIn</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="-1">
    <h2 id="toc-title">Sommaire</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#programmation-orientée-objet" id="toc-programmation-orientée-objet" class="nav-link" data-scroll-target="#programmation-orientée-objet">Programmation orientée objet</a></li>
  <li><a href="#quelques-réponses-aux-questions-classe-reponse" id="toc-quelques-réponses-aux-questions-classe-reponse" class="nav-link" data-scroll-target="#quelques-réponses-aux-questions-classe-reponse">Quelques réponses aux questions : Classe <code>Reponse</code></a></li>
  <li><a href="#apprentissage-automatique" id="toc-apprentissage-automatique" class="nav-link" data-scroll-target="#apprentissage-automatique">Apprentissage automatique</a></li>
  <li><a href="#lancement-du-projet-et-utilisation-de-lapplication" id="toc-lancement-du-projet-et-utilisation-de-lapplication" class="nav-link" data-scroll-target="#lancement-du-projet-et-utilisation-de-lapplication">Lancement du projet et utilisation de l’application</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="presentation-ptd.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Prédiction de la durée de carrière des joueurs NBA</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Présenté par Djamal TOE, Ousseynou SIMAL, Denis THAYANANTHARAJAH, Karima JABRI </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Ecole Nationale de la Statistique et de l’Analyse de l’Information
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 12, 2025</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="la-national-basketball-association" class="level2 smaller bg-bottom-right">
<h2 class="smaller bg-bottom-right anchored" data-anchor-id="la-national-basketball-association">La National Basketball Association ?</h2>
<ul>
<li><p>Ligue professionnelle de basketball la plus compétitive au monde</p></li>
<li><p>30 équipes (Est et Ouest), 82 matchs de saison régulière</p></li>
<li><p><strong>Données riches et variées sur l’ensemble de la ligue :</strong></p>
<ul>
<li><p>suivi très détaillé des performances</p></li>
<li><p>des archives complètes depuis plus de 75 ans</p></li>
</ul></li>
</ul>
<div data-id="expli-class-rep" style="background: #fff; width: 100%; height: 100%; font-size: 35px;">
<p><strong>Problématique : Prédire la durée de carrière des joueurs nouvellement draftés</strong></p>
</div>
</section>
<section id="objectifs" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="objectifs">Objectifs</h2>
<ul>
<li><p><strong>Objectif 1 : identifier des questions décrivant le jeu de données</strong></p>
<ul>
<li><p>Analyse exploratoire des données afin de répondre à 10 interrogations</p></li>
<li><p>Questions explorant différentes dimensions du basketball (<strong><em>équipes, les joueurs, les matchs, les play-offs ou encore la draft</em></strong>)</p></li>
</ul></li>
</ul>
<p>. . .</p>
<ul>
<li><p><strong>Objectif 2 : prédire la durée de carrière des joueurs NBA</strong></p>
<ul>
<li>Spécification et ajustement d’un modèle d’apprentissage automatique</li>
</ul></li>
</ul>
<p>. . .</p>
<ul>
<li><p><strong>Objectif 3 : développer et déployer une application</strong></p>
<ul>
<li>Création d’ interfaces interactives pour afficher les réponses aux questions et d’autres informations sur la NBA</li>
</ul></li>
</ul>
</section>
<section id="présentation-du-jeu-de-données-source-kaggle" class="level2 smaler">
<h2 class="smaler anchored" data-anchor-id="présentation-du-jeu-de-données-source-kaggle">Présentation du jeu de données (Source Kaggle)</h2>
<div class="rows">
<div class="row" height="40%">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img_tables.png" style="width:85.0%;height:55.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="row" height="60%">
<div data-id="pp" style="background: #fff; width: 100%; height: 100%; font-size: 26px;">
<p><strong>Travail de préparation des données : </strong></p>
<ul>
<li>Intégration manuelle des vainqueurs NBA manquants;</li>
<li><strong>harmonisation des noms de franchises :</strong></li>
</ul>
<div class="fragment highlight-red">
<p><strong><em>Philadelphia Warriors</em></strong> &nbsp;⇒&nbsp; <strong><em>San Francisco Warriors</em></strong> &nbsp;⇒&nbsp; <strong><em>Golden State Warriors</em></strong></p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="programmation-orientée-objet" class="level1">
<h1>Programmation orientée objet</h1>
<section id="pourquoi-avons-nous-utilisé-des-classes" class="level2">
<h2 class="anchored" data-anchor-id="pourquoi-avons-nous-utilisé-des-classes">Pourquoi avons-nous utilisé des classes ?</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="raisons_classes.png" style="width:90.0%;height:90.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="présentation-de-la-classe-reponse" class="level2">
<h2 class="anchored" data-anchor-id="présentation-de-la-classe-reponse">Présentation de la classe <code>Reponse</code></h2>
<div class="columns">
<div class="column" style="width:70%;">
<div data-id="expli-class-rep" style="background: #fff; width: 100%; height: 100%; font-size: 26px;">
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Reponse:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, data: <span class="bu">dict</span>[pd.DataFrame]):</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Réalisons les tests nécessaire sur l'objet data</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>            <span class="kw">not</span> <span class="bu">isinstance</span>(data, <span class="bu">dict</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        ):</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"L'argument data doit être un dictionnaire."</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>            <span class="bu">any</span>(<span class="kw">not</span> <span class="bu">isinstance</span>(data[key], pd.DataFrame) <span class="cf">for</span> key <span class="kw">in</span> data.keys())</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        ):</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"Toutes les valeurs des clés doivents être des "</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"pandas.DataFrame."</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Testons qu'on a bien la clé common_player_info dans le dictionnaire</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="st">"draft_history"</span> <span class="kw">not</span> <span class="kw">in</span> data.keys()):</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">KeyError</span>(<span class="st">"La clé 'draft_history' ne fait pas parti du dictionnaire"</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="st">"common_player_info"</span> <span class="kw">not</span> <span class="kw">in</span> data.keys()):</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">KeyError</span>(<span class="st">"La clé 'common_player_info' ne fait pas parti du "</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"dictionnaire"</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="st">"game"</span> <span class="kw">not</span> <span class="kw">in</span> data.keys()):</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">KeyError</span>(<span class="st">"La clé 'game' ne fait pas parti du dictionnaire"</span>)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.data <span class="op">=</span> copy.deepcopy(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:30%;">
<div data-id="expli-class-rep-exp" style="background: #fff; width: 100%; height: 100%; font-size: 26px;">
<ul>
<li><p><strong>Entrée :</strong></p>
<ul>
<li>Dictionnaire de tables</li>
</ul></li>
<li><p><strong>Vérification des entrées :</strong></p>
<ul>
<li>Le type des entrées est vérifié</li>
</ul></li>
<li><p><strong>Présence des tables d’intérêt dans le dictionnaire</strong></p>
<ul>
<li>Exceptions levées : <strong><em>TypError, KeyError</em></strong></li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
<section id="les-méthodes-de-la-classe-reponse" class="level2">
<h2 class="anchored" data-anchor-id="les-méthodes-de-la-classe-reponse">Les méthodes de la classe <code>Reponse</code></h2>
<div class="columns">
<div class="column" style="width:55%;">
<div data-id="class-method" style="background: #fff; width: 100%; height: 100%; font-size: 26px;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="desc_class_rep.png" style="width:90.0%;height:90.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:45%;">
<div data-id="expli-class-method" style="background: #fff; width: 100%; height: 100%; font-size: 24px;">
<p>&nbsp;⇐&nbsp; <strong>Les méthodes indexées :</strong></p>
<ul>
<li><p><strong>(1)</strong> retourne une table contenant le nombre de victoires ou de défaites pour chaque équipe entre les saisons données.</p></li>
<li><p><strong>(2)</strong> retourne une table listant les équipes ayant remporté au moins le nombre de titres requis.</p></li>
<li><p><strong>(3)</strong> retourne un dictionnaire contenant deux tables, un pour chaque conférence (Est et Ouest).</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="la-méthode-equip_victoires_defaites_saison-et-ses-usages" class="level2">
<h2 class="anchored" data-anchor-id="la-méthode-equip_victoires_defaites_saison-et-ses-usages">La méthode <code>equip_victoires_defaites_saison</code> et ses usages</h2>
<div data-id="expli-class-nb-vic" style="background: #fff; width: 100%; height: 100%; font-size: 26px;">
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> equip_victoires_defaites_saison(<span class="va">self</span>, annee_debut: <span class="bu">int</span>, annee_fin: <span class="bu">int</span>,</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>                                        season_type: <span class="bu">str</span> <span class="op">=</span> <span class="st">'Regular Season'</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                                        defaite: <span class="bu">bool</span> <span class="op">=</span> <span class="va">False</span>) <span class="op">-&gt;</span> pd.DataFrame:</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p><strong>Entrées</strong> : <strong><em>période – type de saison – l’issue du match</em></strong></p></li>
<li><p><strong>Traitement pour l’obtention du nombre de victoires ou de défaites :</strong></p></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Détermination des équipes en fonction du résultat souhaité</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>        game_chosen_season[<span class="st">'Equipes'</span>] <span class="op">=</span> np.where(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>            ((game_chosen_season[<span class="st">'wl_home'</span>] <span class="op">==</span> <span class="st">"W"</span>) <span class="op">&amp;</span> (<span class="kw">not</span> defaite)) <span class="op">|</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>            ((game_chosen_season[<span class="st">'wl_home'</span>] <span class="op">==</span> <span class="st">"L"</span>) <span class="op">&amp;</span> defaite),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>            game_chosen_season[<span class="st">'team_name_home'</span>],</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>            game_chosen_season[<span class="st">'team_name_away'</span>]</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Agrégation des résultats</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        results <span class="op">=</span> game_chosen_season.groupby([<span class="st">"season_years"</span>, <span class="st">"Equipes"</span>]).aggregate({</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">'wl_home'</span>: <span class="st">'count'</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Equipes'</span>: <span class="st">'first'</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">'season_years'</span>: <span class="st">'first'</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        }).reset_index(drop<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="la-méthode-equipe_remporte_au_moins_n_fois_le_titre" class="level2">
<h2 class="anchored" data-anchor-id="la-méthode-equipe_remporte_au_moins_n_fois_le_titre">La méthode <code>equipe_remporte_au_moins_N_fois_le_titre</code></h2>
<div data-id="expli-class-rep" style="background: #fff; width: 100%; height: 100%; font-size: 26px;">
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> equipe_remporte_au_moins_N_fois_le_titre(<span class="va">self</span>, nb_victoire_min: <span class="bu">int</span> <span class="op">=</span> <span class="dv">3</span>,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>                                                 debut_periode: <span class="bu">int</span> <span class="op">=</span> <span class="dv">1946</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>                                                 fin_periode: <span class="bu">int</span> <span class="op">=</span> <span class="dv">2023</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                                                 ) <span class="op">-&gt;</span> pd.DataFrame</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>) nba_champions_manquant <span class="op">=</span> {</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="st">"1957-1958"</span>: <span class="st">"Atlanta Hawks"</span>, <span class="st">"1958-1959"</span>: <span class="st">"Boston Celtics"</span>, <span class="st">"1960-1961"</span>: <span class="st">"Boston Celtics"</span>, </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="st">"1964-1965"</span>: <span class="st">"Boston Celtics"</span>, <span class="st">"1968-1969"</span>: <span class="st">"Boston Celtics"</span>, <span class="st">"1993-1994"</span>: <span class="st">"Houston Rockets"</span>, </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="st">"1995-1996"</span>: <span class="st">"Chicago Bulls"</span>, <span class="st">"1999-2000"</span>: <span class="st">"Los Angeles Lakers"</span>, <span class="st">"2001-2002"</span>: <span class="st">"Los Angeles Lakers"</span>, <span class="st">"2005-2006"</span>: <span class="st">"Miami Heat"</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Sélection des données</p></li>
<li><p>Identification des vainqueurs de chaque saison</p></li>
<li><p>Alimentation des résultats <strong>(1)</strong></p></li>
<li><p>Edition de la table avec le nombre de titres gagnés sur la période par équipe</p></li>
<li><p>Renvoi de la table avec les équipes avec au moins 3 titres NBA</p></li>
</ul>
</div>
</section>
<section id="la-méthode-classement_conferences" class="level2">
<h2 class="anchored" data-anchor-id="la-méthode-classement_conferences">La méthode <code>classement_conferences</code></h2>
<div data-id="expli-class-nb-vic" style="background: #fff; width: 100%; height: 100%; font-size: 26px;">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">def</span> classement_conferences(<span class="va">self</span>, season: <span class="bu">str</span> <span class="op">=</span> <span class="st">'2022-2023'</span>,</span>
<span id="cb5-2"><a href="#cb5-2"></a>                               end: <span class="bu">str</span> <span class="op">=</span> <span class="va">None</span>) <span class="op">-&gt;</span> <span class="bu">dict</span>[pd.DataFrame]:</span>
<span id="cb5-3"><a href="#cb5-3"></a>  . . .       </span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a>  classement <span class="op">=</span> {<span class="st">"Conférence Est"</span>: classement_est,</span>
<span id="cb5-6"><a href="#cb5-6"></a>              <span class="st">"Conférence Ouest"</span>: classement_ouest}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Sélection des données (saison régulière)</p></li>
<li><p>Identification du nombre de victoire par équipe</p></li>
<li><p>Classement selon la conférence</p></li>
<li><p>Renvoie les deux tables correspondantes aux conférences Est et Ouest</p></li>
</ul>
</div>
</section>
</section>
<section id="quelques-réponses-aux-questions-classe-reponse" class="level1">
<h1>Quelques réponses aux questions : Classe <code>Reponse</code></h1>
<section id="les-équipes-ayant-remporté-au-moins-n-titres-nba-entre-deux-périodes-données" class="level2 smaler">
<h2 class="smaler anchored" data-anchor-id="les-équipes-ayant-remporté-au-moins-n-titres-nba-entre-deux-périodes-données">Les équipes ayant remporté au moins N titres NBA, entre deux périodes données</h2>
<div data-id="expli-q1" style="background: #fff; width: 100%; height: 100%; font-size: 26px;">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">class</span> Reponse:</span>
<span id="cb6-2"><a href="#cb6-2"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, data: <span class="bu">dict</span>[pd.DataFrame]):</span>
<span id="cb6-3"><a href="#cb6-3"></a>      ...</span>
<span id="cb6-4"><a href="#cb6-4"></a>    ...</span>
<span id="cb6-5"><a href="#cb6-5"></a>    <span class="kw">def</span> equipe_remporte_au_moins_N_fois_le_titre(<span class="va">self</span>, nb_victoire_min: <span class="bu">int</span> <span class="op">=</span> <span class="dv">3</span>,</span>
<span id="cb6-6"><a href="#cb6-6"></a>                                                 debut_periode: <span class="bu">int</span> <span class="op">=</span> <span class="dv">1946</span>,</span>
<span id="cb6-7"><a href="#cb6-7"></a>                                                 fin_periode: <span class="bu">int</span> <span class="op">=</span> <span class="dv">2023</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>                                                 ) <span class="op">-&gt;</span> pd.DataFrame</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="fn_obli_1.png" style="width:70.0%;height:40.0%" class="figure-img"></p>
<figcaption class="figure-caption">Paramètres de la méthode equipe_remporte_au_moins_N_fois_le_titre</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="les-équipes-ayant-remporté-au-moins-3-titres-nba" class="level2 smaler">
<h2 class="smaler anchored" data-anchor-id="les-équipes-ayant-remporté-au-moins-3-titres-nba">Les équipes ayant remporté au moins 3 titres NBA</h2>
<div data-id="q1" style="background: #fff; width: 100%; height: 100%; font-size: 22px;">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Equipes ayant remporté au moins 3 titres NBA</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Equipe</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Nombre.de.titre.NBA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Boston Celtics</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">17</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Los Angeles Lakers</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">17</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Golden State Warriors</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chicago Bulls</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Philadelphia 76ers</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">San Antonio Spurs</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Miami Heat</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">3</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Detroit Pistons</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">3</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Houston Rockets</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">3</span></td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</section>
<section id="classement-des-conférences-à-la-fin-dune-saison-donnée" class="level2">
<h2 class="anchored" data-anchor-id="classement-des-conférences-à-la-fin-dune-saison-donnée">Classement des conférences à la fin d’une saison donnée</h2>
<div data-id="expli-q1" style="background: #fff; width: 100%; height: 100%; font-size: 26px;">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">class</span> Reponse:</span>
<span id="cb7-2"><a href="#cb7-2"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, data: <span class="bu">dict</span>[pd.DataFrame]):</span>
<span id="cb7-3"><a href="#cb7-3"></a>      ...</span>
<span id="cb7-4"><a href="#cb7-4"></a>    ...</span>
<span id="cb7-5"><a href="#cb7-5"></a>    <span class="kw">def</span> classement_conferences(<span class="va">self</span>, season: <span class="bu">str</span> <span class="op">=</span> <span class="st">'2022-2023'</span>,</span>
<span id="cb7-6"><a href="#cb7-6"></a>                               end: <span class="bu">str</span> <span class="op">=</span> <span class="va">None</span>) <span class="op">-&gt;</span> <span class="bu">dict</span>[pd.DataFrame]:</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="fn_obli_2.png" style="width:70.0%;height:40.0%" class="figure-img"></p>
<figcaption class="figure-caption">Paramètres de la méthode classement_conferences</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="classement-des-conférences-à-la-fin-de-la-saison-2022-2023" class="level2">
<h2 class="anchored" data-anchor-id="classement-des-conférences-à-la-fin-de-la-saison-2022-2023">Classement des conférences à la fin de la saison 2022-2023</h2>
<div data-id="q2" style="background: #fff; width: 100%; height: 100%; font-size: 17px;">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Equipe conférence Est</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Victoires</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Points</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Equipe conférence Ouest</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Victoires</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Points</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Milwaukee Bucks</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">58</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">9589</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Denver Nuggets</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">53</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">9495</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Boston Celtics</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">57</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">9671</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Memphis Grizzlies</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">51</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">9587</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Philadelphia 76ers</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">9448</td>
<td style="text-align: right;">Sacramento Kings</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">9898</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cleveland Cavaliers</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">9205</td>
<td style="text-align: right;">Phoenix Suns</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">9319</td>
</tr>
<tr class="odd">
<td style="text-align: left;">New York Knicks</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">9514</td>
<td style="text-align: right;">Golden State Warriors</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">9753</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brooklyn Nets</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">9295</td>
<td style="text-align: right;">LA Clippers</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">9314</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Miami Heat</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">8977</td>
<td style="text-align: right;">Los Angeles Lakers</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">9608</td>
</tr>
<tr class="even">
<td style="text-align: left;">Atlanta Hawks</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">9711</td>
<td style="text-align: right;">Minnesota Timberwolves</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">9494</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Toronto Raptors</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">9254</td>
<td style="text-align: right;">New Orleans Pelicans</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">9378</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chicago Bulls</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">9276</td>
<td style="text-align: right;">Oklahoma City Thunder</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">9633</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Indiana Pacers</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">9535</td>
<td style="text-align: right;">Dallas Mavericks</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">9366</td>
</tr>
<tr class="even">
<td style="text-align: left;">Washington Wizards</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">9279</td>
<td style="text-align: right;">Utah Jazz</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">9600</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Orlando Magic</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">9136</td>
<td style="text-align: right;">Portland Trail Blazers</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">9299</td>
</tr>
<tr class="even">
<td style="text-align: left;">Charlotte Hornets</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">9098</td>
<td style="text-align: right;">San Antonio Spurs</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">9269</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Detroit Pistons</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">17</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">9045</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Houston Rockets</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">22</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">9081</span></td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</section>
<section id="er-choix-de-la-draft-et-caractéristiques-physiques-des-joueurs" class="level2">
<h2 class="anchored" data-anchor-id="er-choix-de-la-draft-et-caractéristiques-physiques-des-joueurs">1er choix de la draft et caractéristiques physiques des joueurs</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div data-id="q3-1" style="background: #fff; width: 100%; height: 100%; font-size: 19px;">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>1er choix de la draf NBA (2019-2023) </caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Saison</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Nom</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Equipe</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pays</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2019</td>
<td style="text-align: right;">Zion Williamson</td>
<td style="text-align: right;">New Orleans</td>
<td style="text-align: right;">USA</td>
</tr>
<tr class="even">
<td style="text-align: left;">2020</td>
<td style="text-align: right;">Anthony Edwards</td>
<td style="text-align: right;">Minnesota</td>
<td style="text-align: right;">USA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2021</td>
<td style="text-align: right;">Cade Cunningham</td>
<td style="text-align: right;">Detroit</td>
<td style="text-align: right;">USA</td>
</tr>
<tr class="even">
<td style="text-align: left;">2022</td>
<td style="text-align: right;">Paolo Banchero</td>
<td style="text-align: right;">Orlando</td>
<td style="text-align: right;">USA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023</td>
<td style="text-align: right;">Victor Wembanyama</td>
<td style="text-align: right;">San Antonio</td>
<td style="text-align: right;">France</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div><div class="column" style="width:40%;">
<div data-id="q3-2" style="background: #fff; width: 100%; height: 100%; font-size: 19px;">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Poids et tailles médians par position </caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">position</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Taille.cm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Poids.Kg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Pivot</td>
<td style="text-align: right;">210.82</td>
<td style="text-align: right;">108.86</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pivot/Ailier fort</td>
<td style="text-align: right;">210.82</td>
<td style="text-align: right;">113.40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ailier</td>
<td style="text-align: right;">200.66</td>
<td style="text-align: right;">98.88</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ailier fort/Pivot</td>
<td style="text-align: right;">208.28</td>
<td style="text-align: right;">108.86</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ailier/Meneur</td>
<td style="text-align: right;">200.66</td>
<td style="text-align: right;">99.79</td>
</tr>
<tr class="even">
<td style="text-align: left;">Arrière/Meneur</td>
<td style="text-align: right;">190.50</td>
<td style="text-align: right;">86.18</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Arrière/Ailier</td>
<td style="text-align: right;">198.12</td>
<td style="text-align: right;">95.25</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="apprentissage-automatique" class="level1">
<h1>Apprentissage automatique</h1>
<section id="quel-modèle-avons-nous-choisis" class="level2">
<h2 class="anchored" data-anchor-id="quel-modèle-avons-nous-choisis">Quel modèle avons-nous choisis ?</h2>
<div class="notes">
<p>Parmi les modèles de machine, nous avons choisi un modèle d’apprentissage supervisé et ce fut celui de la regression</p>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="modele.png" style="width:80.0%;height:80.0%" class="figure-img"></p>
<figcaption class="figure-caption">Apprentissage supervisé - Modèle de regression</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="modèle-de-regression-linéaire" class="level2">
<h2 class="anchored" data-anchor-id="modèle-de-regression-linéaire">Modèle de regression linéaire</h2>
<p><strong>PRINCIPE</strong> : Prédire une variable quantitative à l’aide d’une ou plusieurs variables explicatives (quantitatives ou qualitatives)</p>
<p><span class="math display">\[\begin{equation}
  y = \beta X + \epsilon
\end{equation}\]</span></p>
<p>où <span class="math inline">\(\beta\)</span> est le coefficient associé aux variables explicatives <span class="math inline">\(X\)</span> et <span class="math inline">\(\epsilon\)</span> le terme d’erreur.</p>
<div class="notes">
<p>Le modèle de regression linéaire permet de prédire une variable quantitative à l’aide de variables explicatves appélée features. Son équation est la suivante : y la variable à prédire = beta x + epsilon ou x est l’ensemble des features et epsilon les termes d’erreur</p>
</div>
</section>
<section id="choix-des-variables-explicatives" class="level2">
<h2 class="anchored" data-anchor-id="choix-des-variables-explicatives">Choix des variables explicatives</h2>
<div class="notes">
<p>Notre regard s’est d’abord tourné vers les variables age à la draft, poste occupé sur le terrain, taille et poids du joueurs.</p>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ml.png" style="width:70.0%;height:70.0%" class="figure-img"></p>
<figcaption class="figure-caption">Variables préalables</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="choix-des-variables-explicatives-1" class="level2">
<h2 class="anchored" data-anchor-id="choix-des-variables-explicatives-1">Choix des variables explicatives</h2>
<p><strong>Variables retenues</strong></p>
<div class="notes">
<p>Le poste occupé sur le terrain ayant un lien qvec la taille et le poids du joueur, nous avons seulement gardé le poste occupé sur le terrain en plus de l’âge à la draft. Cela a permis d’éviter à un problème de multicolinéarité et donc d’éviter un mauvais ajustement du modèle.</p>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="features_selection.png" style="width:70.0%;height:70.0%" class="figure-img"></p>
<figcaption class="figure-caption">Variables réténues pour l’ajustement du modèle</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="entrainement-du-modèle" class="level2">
<h2 class="anchored" data-anchor-id="entrainement-du-modèle">Entrainement du modèle</h2>
<div class="notes">
<p>Entraînement et évaluation croisée</p>
<p>Nous lançons cinq entraînements successifs du modèle, chacun sur 80 % des données, en réservant à chaque fois un pli différent pour la validation (données de tests).</p>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="k_fold.png" style="width:70.0%;height:70.0%" class="figure-img"></p>
<figcaption class="figure-caption">Validation croisée K-Fold (k = 5)</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="entrainement-du-modèle-1" class="level2">
<h2 class="anchored" data-anchor-id="entrainement-du-modèle-1">Entrainement du modèle</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="summary_modele.png" style="width:70.0%;height:70.0%" class="figure-img"></p>
<figcaption class="figure-caption">Résumé de l’apprentissage automatique</figcaption>
</figure>
</div>
</div>
</div>
<div class="notes">
<ul>
<li>Après avoir validé la robustesse du modèle via la CV, nous le ré-entraînons une dernière fois sur 100 % des observations disponibles, sans rien réserver comme jeu de test.</li>
</ul>
<p>Pourquoi ? Pour exploiter au maximum l’information disponible et obtenir un modèle final plus performant.</p>
<p>Comment s’assurer de sa fiabilité ? Nous nous appuyons entièrement sur la moyenne (4,59) et l’écart-type (± 0,12) des RMSE issus de la CV comme mesure de sa capacité de généralisation.</p>
<ul>
<li>Performance confirmée</li>
</ul>
<p>Grâce à cette validation croisée, nous avons vu que le modèle généralise bien : les scores ne varient que de ± 0,12 autour de 4,59.</p>
<ul>
<li>Interprétations et prédictions</li>
</ul>
<p>Forts de cette robustesse, nous pouvons passer sereinement à l’analyse de l’importance des variables, à l’interprétation des effets et en dernier lieu à la production de prédictions fiables sur de nouvelles données.</p>
</div>
</section>
<section id="methode-fit-de-la-classe-linearregression" class="level2">
<h2 class="anchored" data-anchor-id="methode-fit-de-la-classe-linearregression">Methode fit de la classe <code>LinearRegression</code></h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">def</span> fit(<span class="va">self</span>, X: np.ndarray, y: np.ndarray):</span>
<span id="cb8-2"><a href="#cb8-2"></a>        <span class="co">"""</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co">        Estime les coefficients de régression par OLS.</span></span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co">        Parameters</span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">        ----------</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">        X : np.ndarray</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">            Matrice des prédicteurs.</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">        y : np.ndarray</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">            Vecteur cible.</span></span>
<span id="cb8-11"><a href="#cb8-11"></a></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">        Returns</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">        -------</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">        np.ndarray</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">            Coefficients estimés.</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">        """</span></span>
<span id="cb8-17"><a href="#cb8-17"></a>        <span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(X, np.ndarray) <span class="kw">or</span> <span class="kw">not</span> <span class="bu">isinstance</span>(y, np.ndarray):</span>
<span id="cb8-18"><a href="#cb8-18"></a>            <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"X et Y doivent-être de type np.ndarray"</span>)</span>
<span id="cb8-19"><a href="#cb8-19"></a></span>
<span id="cb8-20"><a href="#cb8-20"></a>        cond_number <span class="op">=</span> np.linalg.cond(X.T <span class="op">@</span> X)</span>
<span id="cb8-21"><a href="#cb8-21"></a>        <span class="cf">if</span> cond_number <span class="op">&gt;</span> <span class="fl">1e10</span>:</span>
<span id="cb8-22"><a href="#cb8-22"></a>            warnings.warn(</span>
<span id="cb8-23"><a href="#cb8-23"></a>                <span class="st">"Matrice X.T @ X mal conditionnée (cond &gt; 1e10)."</span></span>
<span id="cb8-24"><a href="#cb8-24"></a>                <span class="st">"Risque de multicolinéarité."</span></span>
<span id="cb8-25"><a href="#cb8-25"></a>            )</span>
<span id="cb8-26"><a href="#cb8-26"></a></span>
<span id="cb8-27"><a href="#cb8-27"></a>        X_X_inv <span class="op">=</span> np.linalg.pinv(X.T <span class="op">@</span> X)</span>
<span id="cb8-28"><a href="#cb8-28"></a>        Beta <span class="op">=</span> X_X_inv <span class="op">@</span> X.T <span class="op">@</span> y</span>
<span id="cb8-29"><a href="#cb8-29"></a>        <span class="cf">return</span> Betas</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>Pour repondre à la problématique posée, nous avons écrit une classe linearRegression qui entraine le modèle, le valide, et prédit la durée de carrière des joueurs. Avant d’ajuster le modèle, nous nous assurons que la matrice est bien conditionnée. (Sur le code on peut voir qu’un nombre de condition &gt; 1e10 signifie un problème de multicolinéarité)</p>
</div>
</section>
<section id="résultats-de-lentraînement" class="level2">
<h2 class="anchored" data-anchor-id="résultats-de-lentraînement">Résultats de l’entraînement</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div data-id="results-fit" style="background: #fff; width: 100%; height: 100%; font-size: 19px;">
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Résultats de l’entraînement du modèle </caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimation</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Borne.inférieure</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Borne.supérieure</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">intercept</td>
<td style="text-align: right;">13.0807938172894</td>
<td style="text-align: right;">11.2139999315576</td>
<td style="text-align: right;">14.9475877030211</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">age_at_draft</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">-0.304520510475786</span></td>
<td style="text-align: right;">-0.385970108084788</td>
<td style="text-align: right;">-0.223070912866783</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Pivot-Ailier fort</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">4.03469135857516</span></td>
<td style="text-align: right;">2.58019430274557</td>
<td style="text-align: right;">5.48918841440475</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ailier</td>
<td style="text-align: right;">-0.723448794163931</td>
<td style="text-align: right;">-1.24222365227521</td>
<td style="text-align: right;">-0.204673936052656</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ailier fort-Pivot</td>
<td style="text-align: right;">3.00118640834299</td>
<td style="text-align: right;">1.80323628965945</td>
<td style="text-align: right;">4.19913652702653</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ailier-Arrière</td>
<td style="text-align: right;">1.31879081528329</td>
<td style="text-align: right;">-0.203041070946694</td>
<td style="text-align: right;">2.84062270151327</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">Arrière</span></td>
<td style="text-align: right;"><span style="     color: white !important;border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: blue !important;">-0.779850850158738</span></td>
<td style="text-align: right;">-1.30098176750811</td>
<td style="text-align: right;">-0.258719932809363</td>
</tr>
<tr class="even">
<td style="text-align: left;">Arrière-Ailier</td>
<td style="text-align: right;">1.88960963320118</td>
<td style="text-align: right;">0.805602797554438</td>
<td style="text-align: right;">2.97361646884792</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<div data-id="prediction" style="background: #fff; width: 100%; height: 100%; font-size: 19px;">
<ul>
<li><p><strong><em>Age à la draft + 1 &nbsp;⇒&nbsp; diminution moyenne de la durée de carrière de 0.30 ans</em></strong></p></li>
<li><p><strong><em>Un pivot/ailier a plus de chance de durer à la NBA que les joueurs occupant les autres postes</em></strong></p></li>
<li><p><strong><em>Un arrière a moins de chance de durer à la NBA que les joueurs occupant les autres postes</em></strong></p></li>
</ul>
<div class="fragment">
<ul>
<li><p><strong>Prédiction</strong> : <span class="math inline">\(exp = 13,08 - 0.305*Age_{draft} + \beta_j*Poste_j\)</span></p></li>
<li><p><strong>Age_a_la_draft = <em>18 ans</em></strong> et <strong>Poste = <em>Pivot</em></strong></p>
<ul>
<li><p><strong>Durée de carrière : 7.6 ans</strong></p></li>
<li><p><strong>Intervalle de confiance [4.3, 10.9]</strong></p></li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="notes">
<p>Par exemple pour un joueur qui s’est présenté à 18 ans la draft, et occupant le poste de pivot, le modèle prédit une durée de carrière de 7,6 ans avec un IC allant de 4,3 à 10,9 ans]</p>
</div>
</section>
</section>
<section id="lancement-du-projet-et-utilisation-de-lapplication" class="level1">
<h1>Lancement du projet et utilisation de l’application</h1>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<section id="synthèse-de-létude" class="level2">
<h2 class="anchored" data-anchor-id="synthèse-de-létude">Synthèse de l’étude</h2>
<ul>
<li><p>Ce projet entre pleinement dans le domaine de l’informatique appliquée aux données.</p></li>
<li><p>Suivi du processus : nettoyage, exploration et modélisation</p></li>
<li><p>Réponses rigoureuses aux questions posées</p></li>
<li><p>Construction d’un modèle supervisé pour prédire la durée de carrière des joueurs</p></li>
</ul>
</section>
<section id="avantages-et-difficultés" class="level2">
<h2 class="anchored" data-anchor-id="avantages-et-difficultés">Avantages et difficultés</h2>
<div data-id="prediction" style="background: #fff; width: 100%; height: 100%; font-size: 26px;">
<div class="fragment">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Avantages
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>Acquisition de compétences transversales : manipulation de données, machine learning, visualisation interactive.</p></li>
<li><p>Intervalle de confiance des prédictions</p></li>
<li><p>Implémentation manuelle du modèle supervisé</p></li>
<li><p>Modularisation du code facilitant la maintenance et la réutilisation.</p></li>
<li><p>Prise d’initiatives (création d’une interface, traitement des noms d’équipes changeants, gestion des données manquantes)</p></li>
</ul>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Difficultés
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>Erreur de prédiction plus ou moins élevée (4,6 ans)</p></li>
<li><p>Des attentes initiales manquaient de clarté</p></li>
<li><p>Quelques difficultés à identifier et corriger les incohérences dans les données historiques</p></li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="end" class="level2">
<h2 class="anchored" data-anchor-id="end">END</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="end.png" style="width:90.0%;height:90.0%" class="figure-img"></p>
</figure>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->

<script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>